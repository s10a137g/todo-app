@*
*
* to do sample project
*
*@
@import controllers.todo.TodoUpdateFormData
@import persistence.persistence.onMySQL.{CategoryRepository, TodoRepository}
@import persistence.persistence.onMySQL.CategoryRepository._
@import persistence.persistence.onMySQL.TodoRepository._
@import helper._
@import model.todo.Todo.Status

@(vv: model.ViewValueCommon, todoForm: Form[TodoUpdateFormData], categoryList: Seq[CategoryRepository.EntityEmbeddedId])(implicit request: RequestHeader, messagesProvider: MessagesProvider)

@common.Default(vv){
  @helper.form(action = controllers.todo.routes.TodoController.update()) {
    @helper.CSRF.formField

    @helper.inputText(todoForm("title"),'_label -> "タイトル", 'size -> 40)
    @helper.textarea(todoForm("body"), '_label -> "本文", 'rows -> 3, 'cols -> 50)
    @helper.select(
      todoForm("status"),
      options = Status.values.map(i => (i.code.toString, i.name)),
      '_label -> "ステータス",
    )
    @helper.select(
      todoForm("categoryId"),
      options = categoryList.map(i => (i.v.id.get.toString, i.v.name)),
      '_label -> " カテゴリ",
    )

    <input type="hidden" value="@todoForm.data("id")" name="id">

    <input type="submit" value="更新">
  }
  <a href="@controllers.todo.routes.TodoController.list">戻る</a></a>
}
